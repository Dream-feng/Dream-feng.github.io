(function(t){function s(s){for(var a,n,r=s[0],c=s[1],l=s[2],d=0,p=[];d<r.length;d++)n=r[d],i[n]&&p.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(s);while(p.length)p.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,s=0;s<o.length;s++){for(var e=o[s],a=!0,r=1;r<e.length;r++){var c=e[r];0!==i[c]&&(a=!1)}a&&(o.splice(s--,1),t=n(n.s=e[0]))}return t}var a={},i={app:0},o=[];function n(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=a,n.d=function(t,s,e){n.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,s){if(1&s&&(t=n(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)n.d(e,a,function(s){return t[s]}.bind(null,a));return e},n.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(s,"a",s),s},n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"0722":function(t,s,e){},"080e":function(t,s,e){},"085e":function(t,s,e){"use strict";var a=e("0722"),i=e.n(a);i.a},"0c89":function(t,s,e){},"10a4":function(t,s,e){},"1dce":function(t,s,e){},3184:function(t,s,e){"use strict";var a=e("a4c8"),i=e.n(a);i.a},"3c9b":function(t,s,e){},"42fb":function(t,s,e){},"45fe":function(t,s,e){"use strict";var a=e("1dce"),i=e.n(a);i.a},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("097d");var a=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"},on:{touchmove:function(t){t.preventDefault()}}},[e("v-header",{attrs:{seller:t.seller}}),e("div",{staticClass:"tab-wrapper"},[e("tab",{attrs:{tabs:t.tabs}})],1)],1)},o=[],n=e("5176"),r=e.n(n),c=(e("386d"),e("72bf")),l=e.n(c),u=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header",on:{click:t.showDetail}},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"64",height:"64",src:t.seller.avatar}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),e("div",{staticClass:"description"},[t._v("\n        "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达\n      ")]),t.seller.supports?e("div",{staticClass:"support"},[e("support-ico",{attrs:{size:1,type:t.seller.supports[0].type}}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])],1):t._e()]),t.seller.supports?e("div",{staticClass:"support-count"},[e("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),e("i",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),e("div",{staticClass:"bulletin-wrapper"},[e("span",{staticClass:"bulletin-title"}),e("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),e("i",{staticClass:"icon-keyboard_arrow_right"})]),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%"}})])])},d=[],p=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"support-ico",class:t.iconCls})},f=[],h=(e("c5f6"),{name:"support-ico",props:{size:{type:Number},type:{type:Number}},computed:{iconCls:function(){var t=["decrease","discount","special","invoice","guarantee"];return"icon-".concat(this.size," ").concat(t[this.type])}}}),v=h,m=(e("9710"),e("2877")),C=Object(m["a"])(v,p,f,!1,null,"412ddd4b",null);C.options.__file="support-ico.vue";var _=C.exports,b={name:"v-header",props:{seller:{type:Object,default:function(){return{}}}},methods:{showDetail:function(){this.headerDetailComp=this.headerDetailComp||this.$createHeaderDetail({$props:{seller:"seller"}}),this.headerDetailComp.show()}},components:{SupportIco:_}},y=b,g=(e("a734"),Object(m["a"])(y,u,d,!1,null,null,null));g.options.__file="v-header.vue";var w=g.exports,k=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{staticClass:"scroll-nav-wrapper"},[t.goods.length?e("cube-scroll-nav",{attrs:{side:!0,data:t.goods,options:t.scrollOptions},scopedSlots:t._u([{key:"bar",fn:function(s){return[e("cube-scroll-nav-bar",{attrs:{direction:"vertical",labels:s.labels,txts:t.barTxts,current:s.current},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{staticClass:"text"},[s.txt.type>=1?e("support-ico",{attrs:{size:3,type:s.txt.type}}):t._e(),e("span",[t._v(t._s(s.txt.name))]),s.txt.count?e("span",{staticClass:"num"},[e("bubble",{attrs:{num:s.txt.count}})],1):t._e()],1)]}}])})]}}])},t._l(t.goods,function(s){return e("cube-scroll-nav-panel",{key:s.name,attrs:{label:s.name,title:s.name}},[e("ul",t._l(s.foods,function(s){return e("li",{key:s.name,staticClass:"food-item",on:{click:function(e){t.selectFood(s)}}},[e("div",{staticClass:"icon"},[e("img",{attrs:{width:"57",height:"57",src:s.icon}})]),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[t._v(t._s(s.name))]),e("p",{staticClass:"desc"},[t._v(t._s(s.description))]),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(s.sellCount)+"份")]),e("span",[t._v("好评率"+t._s(s.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(s.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))])]),e("div",{staticClass:"cart-control-wrapper"},[e("cart-control",{attrs:{food:s},on:{add:t.onAdd}})],1)])])}),0)])}),1):t._e()],1),e("div",{staticClass:"shop-cart-wrapper"},[e("shop-cart",{ref:"shopCart",attrs:{"select-foods":t.selectFoods,"delivery-price":t.seller.deliveryPrice,"min-price":t.seller.minPrice}})],1)])},x=[],S=(e("ac6a"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:function(s){return s.stopPropagation(),t.decrease(s)}}},[e("span",{staticClass:"inner icon-remove_circle_outline"})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),e("div",{staticClass:"cart-add icon-add_circle",on:{click:function(s){return s.stopPropagation(),t.add(s)}}})],1)}),$=[],T="add",O={name:"cart-control",props:{food:{type:Object}},methods:{add:function(t){this.food.count?this.food.count++:this.$set(this.food,"count",1),this.$emit(T,t.target)},decrease:function(){this.food.count&&this.food.count--}}},P=O,j=(e("085e"),Object(m["a"])(P,S,$,!1,null,"80af9940",null));j.options.__file="cart-control.vue";var F=j.exports,N=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content",on:{click:t.toggleList}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[e("i",{staticClass:"icon-shopping_cart",class:{highlight:t.totalCount>0}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"num"},[e("bubble",{attrs:{num:t.totalCount}})],1)]),e("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),e("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),e("div",{staticClass:"content-right",on:{click:t.pay}},[e("div",{staticClass:"pay",class:t.payClass},[t._v("\n          "+t._s(t.payDesc)+"\n        ")])])]),e("div",{staticClass:"ball-container"},t._l(t.balls,function(s,a){return e("div",{key:a},[e("transition",{on:{"before-enter":t.beforeDrop,enter:t.dropping,"after-enter":t.afterDrop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])],1)}),0)])])},E=[],L=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"bubble"},[t._v("\n  "+t._s(t.num)+"\n")])},D=[],B={name:"bubble",props:{num:{type:Number}}},z=B,R=(e("77c2"),Object(m["a"])(z,L,D,!1,null,"5090da6c",null));R.options.__file="bubble.vue";var M=R.exports,A=10,I="inner-hook";function Y(){for(var t=[],s=0;s<A;s++)t.push({show:!1});return t}var H={name:"shop-cart",props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},sticky:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},data:function(){return{balls:Y(),listFold:this.fold}},created:function(){this.dropBalls=[]},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},payDesc:function(){if(0===this.totalPrice)return"￥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差￥".concat(t,"元起送")}return"去结算"},payClass:function(){return!this.totalCount||this.totalPrice<this.minPrice?"not-enough":"enough"}},methods:{toggleList:function(){if(this.listFold){if(!this.totalCount)return;this.listFold=!1,this._showShopCartList(),this._showShopCartSticky()}else this.listFold=!0,this._hideShopCartList()},pay:function(t){this.totalPrice<this.minPrice||(this.$createDialog({title:"支付",content:"您需要支付".concat(this.totalPrice,"元")}).show(),t.stopPropagation())},drop:function(t){for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},beforeDrop:function(t){var s=this.dropBalls[this.dropBalls.length-1],e=s.el.getBoundingClientRect(),a=e.left-32,i=-(window.innerHeight-e.top-22);t.style.display="",t.style.transform=t.style.webkitTransform="translate3d(0,".concat(i,"px,0)");var o=t.getElementsByClassName(I)[0];o.style.transform=o.style.webkitTransform="translate3d(".concat(a,"px,0,0)")},dropping:function(t,s){this._reflow=document.body.offsetHeight,t.style.transform=t.style.webkitTransform="translate3d(0,0,0)";var e=t.getElementsByClassName(I)[0];e.style.transform=e.style.webkitTransform="translate3d(0,0,0)",t.addEventListener("transitionend",s)},afterDrop:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")},_showShopCartList:function(){var t=this;this.shopCartListComp=this.shopCartListComp||this.$createShopCartList({$props:{selectFoods:"selectFoods"},$events:{leave:function(){t._hideShopCartSticky()},hide:function(){t.listFold=!0},add:function(s){t.shopCartStickyComp.drop(s)}}}),console.log("shopCartListComp"),this.shopCartListComp.show()},_showShopCartSticky:function(){this.shopCartStickyComp=this.shopCartStickyComp||this.$createShopCartSticky({$props:{selectFoods:"selectFoods",deliveryPrice:"deliveryPrice",minPrice:"minPrice",fold:"listFold",list:this.shopCartListComp}}),console.log("shopCartStickyComp"),this.shopCartStickyComp.show()},_hideShopCartList:function(){console.log("hideShopCartList"),console.log("hideShopCartList sticky",this.sticky);var t=this.sticky?this.$parent.list:this.shopCartListComp;t.hide&&t.hide()},_hideShopCartSticky:function(){this.shopCartStickyComp.hide()}},watch:{fold:function(t){this.listFold=t},totalCount:function(t){this.fold||0!==t||this._hideShopCartList()}},components:{Bubble:M}},W=H,J=(e("d27a"),Object(m["a"])(W,N,E,!1,null,"d358f4f8",null));J.options.__file="shop-cart.vue";var U=J.exports,V=e("bc3a"),X=e.n(V),q={name:"goods",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{goods:[],selectedFood:{},scrollOptions:{click:!1,directionLockThreshold:0}}},computed:{seller:function(){return this.data.seller},selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t},barTxts:function(){var t=[];return this.goods.forEach(function(s){var e=s.type,a=s.name,i=s.foods,o=0;i.forEach(function(t){o+=t.count||0}),t.push({type:e,name:a,count:o})}),t}},methods:{fetch:function(){var t=this;this.fetched||(this.fetched=!0,X.a.get("./data.json").then(function(s){t.goods=s.data.goods}))},selectFood:function(t){this.selectedFood=t,this._showFood(),this._showShopCartSticky()},onAdd:function(t){this.$refs.shopCart.drop(t)},_showFood:function(){var t=this;this.foodComp=this.foodComp||this.$createFood({$props:{food:"selectedFood"},$events:{add:function(s){t.shopCartStickyComp.drop(s)},leave:function(){t._hideShopCartSticky()}}}),this.foodComp.show()},_showShopCartSticky:function(){this.shopCartStickyComp=this.shopCartStickyComp||this.$createShopCartSticky({$props:{selectFoods:"selectFoods",deliveryPrice:this.seller.deliveryPrice,minPrice:this.seller.minPrice,fold:!0}}),this.shopCartStickyComp.show()},_hideShopCartSticky:function(){this.shopCartStickyComp.hide()}},components:{Bubble:M,SupportIco:_,CartControl:F,ShopCart:U}},G=q,K=(e("45fe"),Object(m["a"])(G,k,x,!1,null,"6dd5f6b4",null));K.options.__file="goods.vue";var Q=K.exports,Z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("cube-scroll",{ref:"scroll",staticClass:"ratings",attrs:{options:t.scrollOptions}},[e("div",{staticClass:"ratings-content"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("h1",{staticClass:"score"},[t._v(t._s(t.seller.score))]),e("div",{staticClass:"title"},[t._v("综合评分")]),e("div",{staticClass:"rank"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("服务态度")]),e("star",{attrs:{size:36,score:t.seller.serviceScore}}),e("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])],1),e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("商品评分")]),e("star",{attrs:{size:36,score:t.seller.foodScore}}),e("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])],1),e("div",{staticClass:"delivery-wrapper"},[e("span",{staticClass:"title"},[t._v("送达时间")]),e("span",{staticClass:"delivery"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),e("split"),e("rating-select",{attrs:{selectType:t.selectType,onlyContent:t.onlyContent,ratings:t.ratings},on:{select:t.onSelect,toggle:t.onToggle}}),e("div",{staticClass:"rating-wrapper"},[e("ul",t._l(t.computedRatings,function(s,a){return e("li",{key:a,staticClass:"rating-item border-bottom-1px"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"28",height:"28",src:s.avatar}})]),e("div",{staticClass:"content"},[e("h1",{staticClass:"name"},[t._v(t._s(s.username))]),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:24,score:s.score}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.deliveryTime,expression:"rating.deliveryTime"}],staticClass:"delivery"},[t._v(t._s(s.deliveryTime))])],1),e("p",{staticClass:"text"},[t._v(t._s(s.text))]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.recommend&&s.recommend.length,expression:"rating.recommend && rating.recommend.length"}],staticClass:"recommend"},[e("span",{staticClass:"icon-thumb_up"}),t._l(s.recommend,function(s,a){return e("span",{key:a,staticClass:"item"},[t._v("\n                "+t._s(s)+"\n              ")])})],2),e("div",{staticClass:"time"},[t._v("\n              "+t._s(t.format(s.rateTime))+"\n            ")])])])}),0)])],1)])},tt=[],st=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0)},et=[],at=5,it="on",ot="half",nt="off",rt={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=s%1!==0,a=Math.floor(s),i=0;i<a;i++)t.push(it);e&&t.push(ot);while(t.length<at)t.push(nt);return t}}},ct=rt,lt=(e("5717"),Object(m["a"])(ct,st,et,!1,null,null,null));lt.options.__file="star.vue";var ut=lt.exports,dt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rating-select"},[e("div",{staticClass:"rating-type border-bottom-1px"},[e("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(s){t.select(2)}}},[t._v("\n      "+t._s(t.desc.all)+"\n      "),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),e("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(s){t.select(0)}}},[t._v("\n      "+t._s(t.desc.positive)+"\n      "),e("span",{staticClass:"count"},[t._v(t._s(t.positives.length))])]),e("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(s){t.select(1)}}},[t._v("\n      "+t._s(t.desc.negative)+"\n      "),e("span",{staticClass:"count"},[t._v(t._s(t.negatives.length))])])]),e("div",{staticClass:"switch",class:{on:t.onlyContent},on:{click:t.toggleContent}},[e("span",{staticClass:"icon-check_circle"}),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])])},pt=[],ft=0,ht=1,vt=2,mt="toggle",Ct="select",_t={props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:vt},onlyContent:{type:Boolean,default:!1},desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}}},computed:{positives:function(){return this.ratings.filter(function(t){return t.rateType===ft})},negatives:function(){return this.ratings.filter(function(t){return t.rateType===ht})}},methods:{select:function(t){this.$emit(Ct,t)},toggleContent:function(){this.$emit(mt)}}},bt=_t,yt=(e("8f0f"),Object(m["a"])(bt,dt,pt,!1,null,null,null));yt.options.__file="rating-select.vue";var gt=yt.exports,wt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"split"})},kt=[],xt={name:"split"},St=xt,$t=(e("bfd7"),Object(m["a"])(St,wt,kt,!1,null,"7395898e",null));$t.options.__file="split.vue";var Tt=$t.exports,Ot=2,Pt={data:function(){return{selectType:Ot,onlyContent:!0}},computed:{computedRatings:function(){var t=this,s=[];return this.ratings.forEach(function(e){t.onlyContent&&!e.text||t.selectType!==Ot&&e.rateType!==t.selectType||s.push(e)}),s}},methods:{onSelect:function(t){this.selectType=t},onToggle:function(){this.onlyContent=!this.onlyContent}}},jt=0;function Ft(t){return function(s){return X.a.get(t,{params:s}).then(function(t){var s=t.data,e=s.errno,a=s.data;if(e===jt)return a}).catch(function(){})}}Ft("api/seller"),Ft("api/goods"),Ft("api/ratings");var Nt=e("c1df"),Et=e.n(Nt),Lt={name:"ratings",mixins:[Pt],props:{data:{type:Object}},data:function(){return{ratings:[],scrollOptions:{click:!1,directionLockThreshold:0}}},computed:{seller:function(){return this.data.seller||{}}},methods:{fetch:function(){var t=this;this.fetched||(this.fetched=!0,X.a.get("./data.json").then(function(s){t.ratings=s.data.ratings}))},format:function(t){return Et()(t).format("YYYY-MM-DD hh:mm")}},components:{Star:ut,Split:Tt,RatingSelect:gt},watch:{selectType:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.refresh()})}}},Dt=Lt,Bt=(e("cfb2"),Object(m["a"])(Dt,Z,tt,!1,null,"9b1a9908",null));Bt.options.__file="ratings.vue";var zt=Bt.exports,Rt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("cube-scroll",{staticClass:"seller",attrs:{options:t.sellerScrollOptions}},[e("div",{staticClass:"seller-content"},[e("div",{staticClass:"overview"},[e("h1",{staticClass:"title"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"desc border-bottom-1px"},[e("star",{attrs:{size:36,score:t.seller.score}}),e("span",{staticClass:"text"},[t._v("("+t._s(t.seller.ratingCount)+")")]),e("span",{staticClass:"text"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])],1),e("ul",{staticClass:"remark"},[e("li",{staticClass:"block"},[e("h2",[t._v("起送价")]),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n          ")])]),e("li",{staticClass:"block"},[e("h2",[t._v("商家配送")]),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n          ")])]),e("li",{staticClass:"block"},[e("h2",[t._v("平均配送时间")]),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟\n          ")])])]),e("div",{staticClass:"favorite",on:{click:t.toggleFavorite}},[e("span",{staticClass:"icon-favorite",class:{active:t.favorite}}),e("span",{staticClass:"text"},[t._v(t._s(t.favoriteText))])])]),e("split"),e("div",{staticClass:"bulletin"},[e("h1",{staticClass:"title"},[t._v("公告与活动")]),e("div",{staticClass:"content-wrapper border-bottom-1px"},[e("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])]),t.seller.supports?e("ul",{staticClass:"supports"},t._l(t.seller.supports,function(s,a){return e("li",{key:a,staticClass:"support-item border-bottom-1px"},[e("support-ico",{attrs:{size:4,type:t.seller.supports[a].type}}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[a].description))])],1)}),0):t._e()]),e("split"),e("div",{staticClass:"pics"},[e("h1",{staticClass:"title"},[t._v("商家实景")]),e("cube-scroll",{staticClass:"pic-wrapper",attrs:{options:t.picScrollOptions}},[e("ul",{staticClass:"pic-list"},t._l(t.seller.pics,function(t,s){return e("li",{key:s,staticClass:"pic-item"},[e("img",{attrs:{src:t,width:"120",height:"90"}})])}),0)])],1),e("split"),e("div",{staticClass:"info"},[e("h1",{staticClass:"title border-bottom-1px"},[t._v("商家信息")]),e("ul",t._l(t.seller.infos,function(s,a){return e("li",{key:a,staticClass:"info-item border-bottom-1px"},[t._v("\n          "+t._s(s)+"\n        ")])}),0)])],1)])},Mt=[],At=e("335a"),It="__seller__";function Yt(t,s,e){var a=At["a"].get(It,{});a[t]||(a[t]={}),a[t][s]=e,At["a"].set(It,a)}function Ht(t,s,e){var a=At["a"].get(It,{});return a[t]&&a[t][s]||e}var Wt={props:{data:{type:Object,default:function(){return{}}}},data:function(){return{favorite:!1,sellerScrollOptions:{directionLockThreshold:0,click:!1},picScrollOptions:{scrollX:!0,stopPropagation:!0,directionLockThreshold:0}}},computed:{seller:function(){return this.data.seller||{}},favoriteText:function(){return this.favorite?"已收藏":"收藏"}},created:function(){this.favorite=Ht(this.seller.id,"favorite",!1)},methods:{toggleFavorite:function(){this.favorite=!this.favorite,Yt(this.seller.id,"favorite",this.favorite)}},components:{SupportIco:_,Star:ut,Split:Tt}},Jt=Wt,Ut=(e("5db0"),Object(m["a"])(Jt,Rt,Mt,!1,null,"26c706e8",null));Ut.options.__file="seller.vue";var Vt=Ut.exports,Xt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tab"},[e("cube-tab-bar",{ref:"tabBar",staticClass:"border-bottom-1px",attrs:{showSlider:!0,useTransition:!1,data:t.tabs},model:{value:t.selectedLabel,callback:function(s){t.selectedLabel=s},expression:"selectedLabel"}}),e("div",{staticClass:"slide-wrapper"},[e("cube-slide",{ref:"slide",attrs:{loop:!1,"auto-play":!1,"show-dots":!1,"initial-index":t.index,options:t.slideOptions},on:{change:t.onChange,scroll:t.onScroll}},t._l(t.tabs,function(t,s){return e("cube-slide-item",{key:s},[e(t.component,{ref:"component",refInFor:!0,tag:"component",attrs:{data:t.data}})],1)}),1)],1)],1)},qt=[],Gt=(e("20d6"),{name:"tab",props:{tabs:{type:Array,default:function(){return[]}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,slideOptions:{listenScroll:!0,probeType:3,directionLockThreshold:0}}},computed:{selectedLabel:{get:function(){return this.tabs[this.index].label},set:function(t){this.index=this.tabs.findIndex(function(s){return s.label===t})}}},mounted:function(){this.onChange(this.index)},methods:{onChange:function(t){this.index=t;var s=this.$refs.component[t];s&&s.fetch&&s.fetch()},onScroll:function(t){var s=this.$refs.tabBar.$el.clientWidth,e=this.$refs.slide.slide.scrollerWidth,a=-t.x/e*s;this.$refs.tabBar.setSliderTransform(a)}}}),Kt=Gt,Qt=(e("a75e"),Object(m["a"])(Kt,Xt,qt,!1,null,"a96c78e8",null));Qt.options.__file="tab.vue";var Zt=Qt.exports,ts={data:function(){return{seller:{id:l.a.parse(location.search).id}}},computed:{tabs:function(){return[{label:"商品",component:Q,data:{seller:this.seller}},{label:"评论",component:zt,data:{seller:this.seller}},{label:"商家",component:Vt,data:{seller:this.seller}}]}},created:function(){this._getSeller()},methods:{_getSeller:function(){var t=this;X.a.get("./data.json").then(function(s){t.seller=r()({},t.seller,s.data.seller)})}},components:{Tab:Zt,VHeader:w}},ss=ts,es=(e("3184"),Object(m["a"])(ss,i,o,!1,null,"714378a8",null));es.options.__file="App.vue";var as=es.exports,is=(e("df49"),e("e7bd")),os=e("0c29"),ns=e("cd5d"),rs=e("6f24"),cs=e("2696"),ls=e("7c8a"),us=e("ae0c"),ds=e("47fe"),ps=e("1cf7"),fs=e("7add"),hs=e("84d6"),vs=e("d2c1"),ms=e("291f"),Cs=e("7ced"),_s=e("09ad"),bs=e("81c3"),ys=e("6fe1"),gs=e("a801"),ws=e("031d"),ks=e("63b4"),xs=e("9173"),Ss=e("8344"),$s=e("664d"),Ts=e("0124"),Os=e("9736"),Ps=e("1cc1"),js=e("e231"),Fs=e("aea1"),Ns=e("5f4e"),Es=e("0679"),Ls=e("2799"),Ds=e("bdd9"),Bs=e("a2d2"),zs=e("ba90"),Rs=e("36b6"),Ms=e("0f85");a["a"].use(is["a"]),a["a"].use(os["a"]),a["a"].use(ns["a"]),a["a"].use(rs["a"]),a["a"].use(cs["a"]),a["a"].use(ls["a"]),a["a"].use(us["a"]),a["a"].use(ds["a"]),a["a"].use(ps["a"]),a["a"].use(fs["a"]),a["a"].use(hs["a"]),a["a"].use(vs["a"]),a["a"].use(ms["a"]),a["a"].use(Cs["a"]),a["a"].use(_s["a"]),a["a"].use(bs["a"]),a["a"].use(ys["a"]),a["a"].use(gs["a"]),a["a"].use(ws["a"]),a["a"].use(ks["a"]),a["a"].use(xs["a"]),a["a"].use(Ss["a"]),a["a"].use($s["a"]),a["a"].use(Ts["a"]),a["a"].use(Os["a"]),a["a"].use(Ps["a"]),a["a"].use(js["a"]),a["a"].use(Fs["a"]),a["a"].use(Ns["a"]),a["a"].use(Es["a"]),a["a"].use(Ls["a"]),a["a"].use(Ds["a"]),a["a"].use(Bs["a"]),a["a"].use(zs["a"]),a["a"].use(Rs["a"]),a["a"].use(Ms["a"]);var As=e("df9a"),Is=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"header-detail",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}},[e("div",{staticClass:"detail-wrapper clear-fix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:48,score:t.seller.score}})],1),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),e("div",{staticClass:"text"},[t._v("优惠信息")]),e("div",{staticClass:"line"})]),t.seller.supports?e("ul",{staticClass:"supports"},t._l(t.seller.supports,function(s,a){return e("li",{key:s.id,staticClass:"support-item"},[e("support-ico",{attrs:{size:2,type:t.seller.supports[a].type}}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[a].description))])],1)}),0):t._e(),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),e("div",{staticClass:"text"},[t._v("商家公告")]),e("div",{staticClass:"line"})]),e("div",{staticClass:"bulletin"},[e("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])])])]),e("div",{staticClass:"detail-close",on:{click:t.hide}},[e("i",{staticClass:"icon-close"})])])])},Ys=[],Hs={name:"header-detail",props:{seller:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1}},components:{SupportIco:_,Star:ut}},Ws=Hs,Js=(e("9b0a"),Object(m["a"])(Ws,Is,Ys,!1,null,"04b1ff60",null));Js.options.__file="header-detail.vue";var Us=Js.exports,Vs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[e("cube-popup",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],attrs:{"mask-closable":!0,position:"bottom",type:"shop-cart-list","z-index":90},on:{"mask-click":t.maskClick}},[e("transition",{attrs:{name:"move"},on:{"after-leave":t.afterLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("购物车")]),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),e("cube-scroll",{ref:"listContent",staticClass:"list-content"},[e("ul",t._l(t.selectFoods,function(s,a){return e("li",{key:a,staticClass:"food"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"price"},[e("span",[t._v("￥"+t._s(s.price*s.count))])]),e("div",{staticClass:"cart-control-wrapper"},[e("cart-control",{attrs:{food:s},on:{add:t.onAdd}})],1)])}),0)])],1)])],1)],1)},Xs=[],qs="show",Gs="hide",Ks={data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0,this.$emit(qs)},hide:function(){this.visible=!1,this.$emit(Gs)}}},Qs="show",Zs="add",te="leave",se={name:"shop-cart-list",mixins:[Ks],props:{selectFoods:{type:Array,default:function(){return[]}}},created:function(){var t=this;this.$on(Qs,function(){console.log("$on EVENT_SHOW"),t.$nextTick(function(){t.$refs.listContent.refresh()})})},methods:{onAdd:function(t){this.$emit(Zs,t)},afterLeave:function(){this.$emit(te)},maskClick:function(){this.hide()},empty:function(){var t=this;this.dialogComp=this.$createDialog({type:"confirm",content:"清空购物车？",$events:{confirm:function(){t.selectFoods.forEach(function(t){t.count=0}),t.hide()}}}),this.dialogComp.show()}},components:{CartControl:F}},ee=se,ae=(e("7069"),Object(m["a"])(ee,Vs,Xs,!1,null,"86542b5c",null));ae.options.__file="shop-cart-list.vue";var ie=ae.exports,oe=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"shop-cart-sticky"},[e("shop-cart",{ref:"shopCart",attrs:{selectFoods:t.selectFoods,deliveryPrice:t.deliveryPrice,minPrice:t.minPrice,fold:t.fold,sticky:!0}})],1)},ne=[],re={name:"shop-cart-sticky",mixins:[Ks],props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},fold:{type:Boolean,default:!0},list:{type:Object,default:function(){return{}}}},methods:{drop:function(t){this.$refs.shopCart.drop(t)}},components:{ShopCart:U}},ce=re,le=(e("65da"),Object(m["a"])(ce,oe,ne,!1,null,"067a2c9f",null));le.options.__file="shop-cart-sticky.vue";var ue=le.exports,de=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"move"},on:{"after-leave":t.afterLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"food"},[e("cube-scroll",{ref:"scroll"},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"image-header"},[e("img",{attrs:{src:t.food.image}}),e("div",{staticClass:"back",on:{click:t.hide}},[e("i",{staticClass:"icon-arrow_lift"})])]),e("div",{staticClass:"content"},[e("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),e("div",{staticClass:"detail"},[e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),e("div",{staticClass:"cart-control-wrapper"},[e("cart-control",{attrs:{food:t.food},on:{add:t.addFood}})],1),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"buy",on:{click:t.addFirst}},[t._v("\n              加入购物车\n            ")])])],1),e("split",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}]}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"info"},[e("h1",{staticClass:"title"},[t._v("商品信息")]),e("p",{staticClass:"text"},[t._v(t._s(t.food.info))])]),e("split"),e("div",{staticClass:"rating"},[e("h1",{staticClass:"title"},[t._v("商品评价")]),e("rating-select",{attrs:{selectType:t.selectType,onlyContent:t.onlyContent,desc:t.desc,ratings:t.ratings},on:{select:t.onSelect,toggle:t.onToggle}}),e("div",{staticClass:"rating-wrapper"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.computedRatings&&t.computedRatings.length,expression:"computedRatings && computedRatings.length"}]},t._l(t.computedRatings,function(s,a){return e("li",{key:a,staticClass:"rating-item border-bottom-1px"},[e("div",{staticClass:"user"},[e("span",{staticClass:"name"},[t._v(t._s(s.username))]),e("img",{staticClass:"avatar",attrs:{width:"12",height:"12",src:s.avatar}})]),e("div",{staticClass:"time"},[t._v(t._s(t.format(s.rateTime)))]),e("p",{staticClass:"text"},[e("span",{class:{"icon-thumb_up":0===s.rateType,"icon-thumb_down":1===s.rateType}}),t._v(t._s(s.text)+"\n                ")])])}),0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.computedRatings||!t.computedRatings.length,expression:"!computedRatings || !computedRatings.length"}],staticClass:"no-rating"},[t._v("暂无评价")])])],1)],1)])],1)])},pe=[],fe="show",he="add",ve="leave",me={name:"food",mixins:[Pt,Ks],props:{food:{type:Object}},data:function(){return{desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},computed:{ratings:function(){return this.food.ratings}},created:function(){var t=this;this.$on(fe,function(){t.$nextTick(function(){t.$refs.scroll.refresh()})})},methods:{afterLeave:function(){this.$emit(ve)},addFirst:function(t){this.$set(this.food,"count",1),this.$emit(he,t.target)},addFood:function(t){this.$emit(he,t)},format:function(t){return Et()(t).format("YYYY-MM-DD hh:mm")}},components:{CartControl:F,RatingSelect:gt,Split:Tt}},Ce=me,_e=(e("5cf2"),Object(m["a"])(Ce,de,pe,!1,null,"795806fc",null));_e.options.__file="food.vue";var be=_e.exports;Object(As["a"])(a["a"],Us),Object(As["a"])(a["a"],ie),Object(As["a"])(a["a"],ue),Object(As["a"])(a["a"],be);e("f867");a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(as)}}).$mount("#app")},5717:function(t,s,e){"use strict";var a=e("080e"),i=e.n(a);i.a},"5b35":function(t,s,e){},"5cf2":function(t,s,e){"use strict";var a=e("3c9b"),i=e.n(a);i.a},"5d9c":function(t,s,e){var a={"./zh-cn":"5c3a","./zh-cn.js":"5c3a"};function i(t){var s=o(t);return e(s)}function o(t){var s=a[t];if(!(s+1)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="5d9c"},"5db0":function(t,s,e){"use strict";var a=e("b620"),i=e.n(a);i.a},"65da":function(t,s,e){"use strict";var a=e("0c89"),i=e.n(a);i.a},7069:function(t,s,e){"use strict";var a=e("b69a"),i=e.n(a);i.a},"77c2":function(t,s,e){"use strict";var a=e("ee26"),i=e.n(a);i.a},"8f0f":function(t,s,e){"use strict";var a=e("10a4"),i=e.n(a);i.a},9710:function(t,s,e){"use strict";var a=e("5b35"),i=e.n(a);i.a},"998f":function(t,s,e){},"9a41":function(t,s,e){},"9b0a":function(t,s,e){"use strict";var a=e("e81f"),i=e.n(a);i.a},a4bd:function(t,s,e){},a4c8:function(t,s,e){},a734:function(t,s,e){"use strict";var a=e("42fb"),i=e.n(a);i.a},a75e:function(t,s,e){"use strict";var a=e("9a41"),i=e.n(a);i.a},b620:function(t,s,e){},b69a:function(t,s,e){},bfd7:function(t,s,e){"use strict";var a=e("a4bd"),i=e.n(a);i.a},cfb2:function(t,s,e){"use strict";var a=e("998f"),i=e.n(a);i.a},d27a:function(t,s,e){"use strict";var a=e("d48e"),i=e.n(a);i.a},d48e:function(t,s,e){},e81f:function(t,s,e){},ee26:function(t,s,e){},f867:function(t,s,e){}});
//# sourceMappingURL=app.d16eec2f.js.map